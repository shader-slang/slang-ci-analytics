<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Capacity - Slang CI Analytics</title>
<style>
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; margin: 0; background: #fff; color: #333; }
  nav a { color: #adb5bd; text-decoration: none; }
  nav a:hover { color: white; }
  .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
  h1, h2, h3 { color: #212529; }
  table { border-collapse: collapse; width: 100%; }
  th, td { border: 1px solid #dee2e6; padding: 8px; text-align: left; }
  th { background: #f8f9fa; }
  .chart-container { position: relative; width: 100%; max-width: 1200px; margin: 20px 0; }
  .chart-section { margin-bottom: 30px; }
  .chart-section h2 { display: flex; align-items: center; gap: 8px; }
  .chart-section h2 a.anchor { color: #adb5bd; text-decoration: none; font-size: 0.7em; visibility: hidden; }
  .chart-section:hover h2 a.anchor { visibility: visible; }
  .chart-section h2 a.anchor:hover { color: #0d6efd; }
  .download-btn { font-size: 12px; color: #6c757d; cursor: pointer; border: 1px solid #dee2e6; background: white; padding: 2px 8px; border-radius: 4px; margin-left: 8px; }
  .download-btn:hover { background: #f8f9fa; color: #333; }
  .stat-card { display: inline-block; background: #f8f9fa; border-radius: 8px; padding: 15px 25px; margin: 5px; text-align: center; }
  .stat-card .value { font-size: 2em; font-weight: bold; color: #212529; }
  .stat-card .label { font-size: 0.9em; color: #6c757d; }
</style>
</head>
<body>
<nav style="background:#343a40;padding:10px 20px;color:white;font-family:sans-serif">
  <strong>Slang CI Analytics</strong> &nbsp;|&nbsp; <a href="index.html">Home</a> &nbsp;|&nbsp; <a href="statistics.html">Statistics</a> &nbsp;|&nbsp; <a href="capacity.html" style="font-weight:bold;text-decoration:underline">Capacity</a>
</nav>
<div class="container">

<h1>Runner Capacity Analysis</h1>

<div class="chart-section" id="parallelRate">
  <h2>Average Concurrent Runners (Parallelization Rate) <a class="anchor" href="#parallelRate">#</a>
  <button class="download-btn" onclick="downloadChart('parallelRate_canvas')">PNG</button></h2>
<p style="color:#6c757d;font-size:0.9em">Total busy time / 24h per runner group.</p>
  <div class="chart-container"><canvas id="parallelRate_canvas"></canvas></div>
</div>

<div class="chart-section" id="queueWait">
  <h2>Queue Wait Time (minutes) <a class="anchor" href="#queueWait">#</a>
  <button class="download-btn" onclick="downloadChart('queueWait_canvas')">PNG</button></h2>
  <div class="chart-container"><canvas id="queueWait_canvas"></canvas></div>
</div>

<h2>Runner Group Summary</h2>
<table>
  <tr><th>Group</th><th>Fleet Size</th><th>Avg Concurrent</th><th>Peak Concurrent</th></tr>
  <tr><td>Linux GPU</td><td>3</td><td>0.7</td><td>2.6</td></tr>
<tr><td>Windows GPU (GCP)</td><td>5</td><td>1.8</td><td>5.8</td></tr>
<tr><td>Windows test</td><td>3</td><td>0.0</td><td>0.0</td></tr>

</table>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>

function downloadChart(canvasId) {
  var canvas = document.getElementById(canvasId);
  if (!canvas) return;
  var link = document.createElement('a');
  link.download = canvasId.replace('_canvas', '') + '.png';
  link.href = canvas.toDataURL('image/png', 1.0);
  link.click();
}


new Chart(document.getElementById('parallelRate_canvas').getContext('2d'), {
  type: 'line',
  data: {
    labels: ["2025-12-01", "2025-12-02", "2025-12-03", "2025-12-04", "2025-12-05", "2025-12-06", "2025-12-07", "2025-12-08", "2025-12-09", "2025-12-10", "2025-12-11", "2025-12-12", "2025-12-13", "2025-12-15", "2025-12-16", "2025-12-17", "2025-12-18", "2025-12-19", "2025-12-20", "2025-12-22", "2025-12-23", "2025-12-24", "2025-12-25", "2025-12-26", "2025-12-29", "2025-12-30", "2025-12-31", "2026-01-02", "2026-01-04", "2026-01-05", "2026-01-06", "2026-01-07", "2026-01-08", "2026-01-09", "2026-01-10", "2026-01-11", "2026-01-12", "2026-01-13", "2026-01-14", "2026-01-15", "2026-01-16", "2026-01-17", "2026-01-19", "2026-01-20", "2026-01-21", "2026-01-22", "2026-01-23", "2026-01-24", "2026-01-25", "2026-01-26", "2026-01-27", "2026-01-28", "2026-01-29", "2026-01-30", "2026-01-31", "2026-02-01", "2026-02-02", "2026-02-03", "2026-02-04", "2026-02-05", "2026-02-06", "2026-02-07", "2026-02-08", "2026-02-09", "2026-02-10", "2026-02-11", "2026-02-12", "2026-02-13", "2026-02-14", "2026-02-15", "2026-02-16", "2026-02-17", "2026-02-18", "2026-02-19", "2026-02-20", "2026-02-21", "2026-02-23", "2026-02-24", "2026-02-25", "2026-02-26"],
    datasets: [{"label": "Linux GPU", "data": [0.09, 0.11, 0.1, 0.01, 0.0, 0.0, 0.0, 0.0, 0.01, 0.01, 0.06, 0.32, 0.08, 0.54, 0.71, 0.43, 0.87, 0.62, 0.16, 0.45, 0.33, 0.24, 0.06, 0.02, 0.07, 0.22, 0.27, 0.05, 0.02, 0.34, 0.42, 0.54, 0.79, 1.0, 0.32, 0.09, 0.84, 1.65, 0.65, 0.74, 0.63, 0.16, 0.2, 0.62, 0.87, 0.68, 0.58, 0.03, 0.06, 1.56, 0.83, 1.14, 1.84, 1.58, 0.29, 0.1, 1.19, 1.41, 1.31, 1.43, 1.08, 0.17, 0.06, 0.92, 1.54, 2.22, 2.48, 1.23, 0.33, 0.07, 1.01, 1.05, 1.26, 1.54, 1.15, 0.14, 2.0, 1.97, 1.86, 2.62], "borderColor": "#0d6efd", "backgroundColor": "#0d6efd33", "fill": true, "tension": 0.1}, {"label": "Windows GPU (GCP)", "data": [1.68, 2.09, 2.58, 2.09, 1.79, 0.52, 0.15, 1.81, 1.7, 1.66, 2.0, 2.68, 0.23, 1.72, 2.31, 1.48, 3.5, 1.9, 0.42, 1.72, 1.11, 0.69, 0.13, 0.08, 0.22, 0.71, 0.87, 0.15, 0.07, 1.1, 1.37, 1.51, 2.03, 2.91, 0.88, 0.28, 2.39, 3.53, 1.52, 1.79, 1.3, 0.41, 0.49, 1.59, 2.33, 1.58, 1.2, 0.0, 0.14, 2.85, 1.91, 2.28, 3.63, 3.36, 0.65, 0.25, 2.42, 3.04, 2.7, 2.95, 3.01, 0.33, 0.36, 2.06, 3.28, 4.61, 5.17, 2.71, 0.69, 0.16, 2.06, 1.95, 2.23, 2.9, 2.84, 0.42, 5.09, 4.72, 4.11, 5.79], "borderColor": "#28a745", "backgroundColor": "#28a74533", "fill": true, "tension": 0.1}, {"label": "Windows test", "data": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "borderColor": "#ffc107", "backgroundColor": "#ffc10733", "fill": true, "tension": 0.1}]
  },
  options: {responsive:true, scales:{y:{min:0,title:{display:true,text:'Avg Concurrent Runners'}}}}
});

new Chart(document.getElementById('queueWait_canvas').getContext('2d'), {
  type: 'line',
  data: {
    labels: ["2025-12-01", "2025-12-02", "2025-12-03", "2025-12-04", "2025-12-05", "2025-12-06", "2025-12-07", "2025-12-08", "2025-12-09", "2025-12-10", "2025-12-11", "2025-12-12", "2025-12-13", "2025-12-15", "2025-12-16", "2025-12-17", "2025-12-18", "2025-12-19", "2025-12-20", "2025-12-22", "2025-12-23", "2025-12-24", "2025-12-25", "2025-12-26", "2025-12-29", "2025-12-30", "2025-12-31", "2026-01-02", "2026-01-04", "2026-01-05", "2026-01-06", "2026-01-07", "2026-01-08", "2026-01-09", "2026-01-10", "2026-01-11", "2026-01-12", "2026-01-13", "2026-01-14", "2026-01-15", "2026-01-16", "2026-01-17", "2026-01-19", "2026-01-20", "2026-01-21", "2026-01-22", "2026-01-23", "2026-01-24", "2026-01-25", "2026-01-26", "2026-01-27", "2026-01-28", "2026-01-29", "2026-01-30", "2026-01-31", "2026-02-01", "2026-02-02", "2026-02-03", "2026-02-04", "2026-02-05", "2026-02-06", "2026-02-07", "2026-02-08", "2026-02-09", "2026-02-10", "2026-02-11", "2026-02-12", "2026-02-13", "2026-02-14", "2026-02-15", "2026-02-16", "2026-02-17", "2026-02-18", "2026-02-19", "2026-02-20", "2026-02-21", "2026-02-23", "2026-02-24", "2026-02-25", "2026-02-26"],
    datasets: [
      {label:'Avg', data:[1.8, 0.7, 2.7, 0.5, 0.4, 0.1, 0.1, 2.7, 0.6, 0.3, 0.7, 1.6, 0.1, 1.7, 9.0, 1.5, 3.8, 2.1, 0.9, 3.9, 1.1, 1.4, 0.3, 0.2, 0.3, 0.3, 0.3, 0.2, 0.4, 0.7, 0.8, 14.1, 39.2, 7.2, 3.6, 0.2, 6.3, 21.1, 1.4, 2.7, 1.5, 0.5, 0.5, 7.9, 3.8, 1.7, 1.9, 1.5, 0.6, 47.9, 4.5, 4.6, 4.6, 6.1, 3.0, 0.5, 7.5, 4.4, 5.8, 3.4, 2.1, 1.4, 0.2, 2.6, 7.1, 19.3, 29.3, 12.4, 3.4, 0.7, 7.9, 4.0, 8.8, 14.5, 7.0, 1.8, 32.2, 17.0, 6.1, 6.1], borderColor:'#0d6efd', fill:false, tension:0.1},
      {label:'p50', data:[0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1, 0.0, 0.1, 0.0, 0.0, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1, 11.8, 0.1, 0.0, 0.0, 0.1, 4.5, 0.1, 0.1, 0.0, 0.0, 0.0, 0.1, 0.1, 0.1, 0.1, 0.0, 0.0, 12.9, 0.1, 0.1, 0.1, 0.1, 0.1, 0.0, 0.1, 0.1, 0.1, 0.1, 0.1, 0.0, 0.0, 0.1, 0.1, 0.9, 3.8, 0.1, 0.1, 0.0, 0.1, 0.1, 0.1, 0.1, 0.1, 0.0, 2.6, 0.5, 0.1, 0.1], borderColor:'#28a745', borderDash:[5,5], fill:false, tension:0.1},
      {label:'p90', data:[5.8, 2.1, 7.2, 0.4, 0.1, 0.1, 0.1, 9.4, 1.5, 0.1, 1.1, 5.5, 0.1, 5.9, 34.1, 4.3, 13.2, 6.3, 3.4, 11.9, 3.5, 5.4, 0.9, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 2.8, 3.0, 53.9, 116.9, 29.1, 11.7, 0.1, 21.3, 72.8, 5.3, 8.7, 4.9, 2.9, 2.7, 29.4, 11.6, 6.4, 7.4, 4.6, 2.8, 154.8, 13.1, 15.4, 15.0, 18.4, 11.1, 1.5, 24.4, 14.5, 19.8, 10.5, 7.1, 2.8, 0.1, 9.4, 24.8, 63.7, 108.9, 40.5, 12.6, 2.1, 25.2, 14.4, 27.8, 48.6, 19.9, 5.2, 115.3, 61.1, 18.6, 19.0], borderColor:'#ffc107', borderDash:[5,5], fill:false, tension:0.1},
      {label:'p95', data:[10.1, 5.2, 19.9, 3.3, 2.2, 0.1, 0.7, 21.0, 4.8, 1.8, 3.3, 9.4, 0.1, 10.9, 58.9, 10.9, 22.1, 14.4, 5.2, 17.9, 8.0, 8.7, 3.0, 1.8, 2.9, 2.0, 2.2, 1.5, 3.7, 5.2, 5.5, 66.4, 140.1, 46.2, 19.9, 1.8, 29.8, 93.5, 8.0, 14.8, 8.0, 3.8, 3.6, 41.8, 20.8, 11.1, 10.8, 7.2, 3.8, 192.1, 20.8, 24.0, 22.0, 34.0, 19.8, 3.7, 39.2, 24.7, 36.6, 22.3, 12.1, 10.9, 0.1, 15.6, 43.3, 103.8, 145.2, 65.0, 21.1, 4.2, 50.5, 24.4, 47.2, 75.1, 42.6, 13.6, 165.1, 93.3, 31.9, 34.4], borderColor:'#dc3545', borderDash:[5,5], fill:false, tension:0.1},
    ]
  },
  options: {responsive:true, scales:{y:{title:{display:true,text:'Minutes'}}}}
});
</script>

</div>
</body>
</html>