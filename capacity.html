<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Capacity - Slang CI Analytics</title>
<style>
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; margin: 0; background: #fff; color: #333; }
  nav a { color: #adb5bd; text-decoration: none; }
  nav a:hover { color: white; }
  .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
  h1, h2, h3 { color: #212529; }
  table { border-collapse: collapse; width: 100%; }
  th, td { border: 1px solid #dee2e6; padding: 8px; text-align: left; }
  th { background: #f8f9fa; }
  .chart-container { position: relative; width: 100%; max-width: 1200px; margin: 20px 0; }
  .stat-card { display: inline-block; background: #f8f9fa; border-radius: 8px; padding: 15px 25px; margin: 5px; text-align: center; }
  .stat-card .value { font-size: 2em; font-weight: bold; color: #212529; }
  .stat-card .label { font-size: 0.9em; color: #6c757d; }
</style>
</head>
<body>
<nav style="background:#343a40;padding:10px 20px;color:white;font-family:sans-serif">
  <strong>Slang CI Analytics</strong> &nbsp;|&nbsp; <a href="index.html">Home</a> &nbsp;|&nbsp; <a href="statistics.html">Statistics</a> &nbsp;|&nbsp; <a href="capacity.html" style="font-weight:bold;text-decoration:underline">Capacity</a>
</nav>
<div class="container">

<h1>Runner Capacity Analysis</h1>

<h2>Average Concurrent Runners (Parallelization Rate)</h2>
<p style="color:#6c757d;font-size:0.9em">Total busy time / 24h per runner group. Dashed lines show fleet capacity.</p>
<div class="chart-container"><canvas id="parallelChart"></canvas></div>

<h2>Queue Wait Time (minutes)</h2>
<div class="chart-container"><canvas id="queueChart"></canvas></div>

<h2>Runner Group Summary</h2>
<table>
  <tr><th>Group</th><th>Fleet Size</th><th>Avg Concurrent</th><th>Peak Concurrent</th></tr>
  <tr><td>Linux GPU</td><td>3</td><td>1.1</td><td>2.5</td></tr>
<tr><td>Windows GPU (GCP)</td><td>5</td><td>2.4</td><td>5.2</td></tr>
<tr><td>Windows test</td><td>3</td><td>0.0</td><td>0.0</td></tr>

</table>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
new Chart(document.getElementById('parallelChart').getContext('2d'), {
  type: 'line',
  data: {
    labels: ["2026-01-26", "2026-01-27", "2026-01-28", "2026-01-29", "2026-01-30", "2026-01-31", "2026-02-01", "2026-02-02", "2026-02-03", "2026-02-04", "2026-02-05", "2026-02-06", "2026-02-07", "2026-02-08", "2026-02-09", "2026-02-10", "2026-02-11", "2026-02-12", "2026-02-13", "2026-02-14", "2026-02-15", "2026-02-16", "2026-02-17", "2026-02-18", "2026-02-19", "2026-02-20", "2026-02-21", "2026-02-23", "2026-02-24"],
    datasets: [{"label": "Linux GPU", "data": [1.52, 0.83, 1.11, 1.84, 1.58, 0.29, 0.1, 1.19, 1.41, 1.31, 1.43, 1.08, 0.17, 0.06, 0.92, 1.54, 2.22, 2.48, 1.23, 0.33, 0.07, 1.01, 1.05, 1.26, 1.54, 1.15, 0.14, 2.0, 1.97], "borderColor": "#0d6efd", "backgroundColor": "#0d6efd33", "fill": true, "tension": 0.1}, {"label": "Windows GPU (GCP)", "data": [2.78, 1.91, 2.2, 3.63, 3.36, 0.65, 0.25, 2.42, 3.04, 2.7, 2.95, 3.01, 0.33, 0.36, 2.06, 3.28, 4.61, 5.17, 2.71, 0.69, 0.16, 2.06, 1.95, 2.23, 2.9, 2.84, 0.42, 5.09, 4.72], "borderColor": "#28a745", "backgroundColor": "#28a74533", "fill": true, "tension": 0.1}, {"label": "Windows test", "data": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "borderColor": "#ffc107", "backgroundColor": "#ffc10733", "fill": true, "tension": 0.1}]
  },
  options: {responsive:true, scales:{y:{min:0,title:{display:true,text:'Avg Concurrent Runners'}}}}
});

new Chart(document.getElementById('queueChart').getContext('2d'), {
  type: 'line',
  data: {
    labels: ["2026-01-26", "2026-01-27", "2026-01-28", "2026-01-29", "2026-01-30", "2026-01-31", "2026-02-01", "2026-02-02", "2026-02-03", "2026-02-04", "2026-02-05", "2026-02-06", "2026-02-07", "2026-02-08", "2026-02-09", "2026-02-10", "2026-02-11", "2026-02-12", "2026-02-13", "2026-02-14", "2026-02-15", "2026-02-16", "2026-02-17", "2026-02-18", "2026-02-19", "2026-02-20", "2026-02-21", "2026-02-23", "2026-02-24"],
    datasets: [
      {label:'Avg', data:[48.6, 4.5, 4.5, 4.6, 6.1, 3.0, 0.5, 7.5, 4.4, 5.8, 3.4, 2.1, 1.4, 0.2, 2.6, 7.1, 19.3, 29.3, 12.4, 3.4, 0.7, 7.9, 4.0, 8.8, 14.5, 7.0, 1.8, 32.2, 17.0], borderColor:'#0d6efd', fill:false, tension:0.1},
      {label:'p50', data:[13.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.0, 0.1, 0.1, 0.1, 0.1, 0.1, 0.0, 0.0, 0.1, 0.1, 0.9, 3.8, 0.1, 0.1, 0.0, 0.1, 0.1, 0.1, 0.1, 0.1, 0.0, 2.6, 0.5], borderColor:'#28a745', borderDash:[5,5], fill:false, tension:0.1},
      {label:'p90', data:[155.6, 13.2, 14.8, 15.0, 18.4, 11.1, 1.5, 24.4, 14.5, 19.8, 10.5, 7.1, 2.8, 0.1, 9.4, 24.8, 63.7, 108.9, 40.5, 12.6, 2.1, 25.2, 14.4, 27.8, 48.6, 19.9, 5.2, 115.3, 61.1], borderColor:'#ffc107', borderDash:[5,5], fill:false, tension:0.1},
      {label:'p95', data:[193.1, 20.9, 22.9, 22.0, 34.0, 19.8, 3.7, 39.2, 24.7, 36.6, 22.3, 12.1, 10.9, 0.1, 15.6, 43.3, 103.8, 145.2, 65.0, 21.1, 4.2, 50.5, 24.4, 47.2, 75.1, 42.6, 13.6, 165.1, 93.3], borderColor:'#dc3545', borderDash:[5,5], fill:false, tension:0.1},
    ]
  },
  options: {responsive:true, scales:{y:{title:{display:true,text:'Minutes'}}}}
});
</script>

</div>
</body>
</html>